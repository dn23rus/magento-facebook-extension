<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * Oggetto Web extension for Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade
 * the Oggetto Facebook module to newer versions in the future.
 * If you wish to customize the Oggetto Facebook module for your needs
 * please refer to http://www.magentocommerce.com for more information.
 *
 * @category   Oggetto
 * @package    Oggetto_Facebook
 * @copyright  Copyright (C) 2013 Oggetto Web (http://oggettoweb.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
-->
<layout version="0.1.0">
    <customer_account_login>
        <update handle="customer_account_login_add_fb_like_button"/>
        <update handle="oggetto_fb_add_fb_login_button"/>
        <update handle="oggetto_fb_add_fb_javascript_sdk"/>
    </customer_account_login>

    <catalog_product_view>
        <update handle="catalog_product_view_add_fb_like_button"/>
        <update handle="oggetto_fb_add_fb_javascript_sdk"/>
    </catalog_product_view>

    <customer_account_login_add_fb_like_button>
        <reference name="customer_form_login">
            <block type="oggetto_fb/like" template="oggetto/facebook/like.phtml" name="fb_like_button_login_page"/>
        </reference>
    </customer_account_login_add_fb_like_button>
    <catalog_product_view_add_fb_like_button>
        <reference name="product.info">
            <action method="setTemplate"><template>oggetto/catalog/product/view.phtml</template></action>
            <block type="oggetto_fb/like" template="oggetto/facebook/like.phtml" name="fb_like_button_product_page"/>
        </reference>
    </catalog_product_view_add_fb_like_button>

    <oggetto_fb_add_fb_login_button>
        <reference name="customer_form_login">
            <action method="setTemplate"><template>oggetto/customer/form/login.phtml</template></action>
            <block type="oggetto_fb/facebook" template="oggetto/customer/form/url.phtml" name="facebook_login" as="facebook_login"/>
        </reference>
    </oggetto_fb_add_fb_login_button>

    <oggetto_fb_add_fb_javascript_sdk>
        <reference name="after_body_start">
            <block type="oggetto_fb/jsSdk" output="toHtml" name="facebook_js_sdk" before="-"/>
        </reference>
    </oggetto_fb_add_fb_javascript_sdk>
</layout>
